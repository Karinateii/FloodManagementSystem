@{
    ViewData["Title"] = "Report Disaster";
}

<!-- Page Header -->
<section class="py-5" style="background: linear-gradient(135deg, var(--danger-color) 0%, #b91c1c 100%); color: white;">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb bg-transparent mb-3">
                <li class="breadcrumb-item"><a href="/" class="text-white opacity-75">Home</a></li>
                <li class="breadcrumb-item"><a href="#" class="text-white opacity-75">Tips</a></li>
                <li class="breadcrumb-item active text-white">Report Disaster</li>
            </ol>
        </nav>
        <h1 class="display-4 fw-bold mb-3">
            <i class="fas fa-flag me-3"></i>Report Disaster Incident
        </h1>
        <p class="lead mb-0">Help us respond quickly by reporting disaster incidents in your area</p>
    </div>
</section>

<!-- Report Form -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <!-- Emergency Notice -->
            <div class="col-12 mb-4">
                <div class="alert alert-danger d-flex align-items-center" role="alert">
                    <i class="fas fa-exclamation-triangle fa-2x me-3"></i>
                    <div>
                        <h5 class="alert-heading mb-2">Emergency Assistance</h5>
                        <p class="mb-0">
                            If you are in immediate danger, please call our 24/7 emergency hotline: 
                            <strong class="fs-5">0806 090 7333</strong>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Report Form -->
            <div class="col-lg-8 mx-auto">
                <div class="card modern-card">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <div class="rounded-circle d-inline-flex align-items-center justify-content-center mb-3" 
                                 style="width: 80px; height: 80px; background-color: rgba(220, 38, 38, 0.1);">
                                <i class="fas fa-exclamation-circle fa-3x text-danger"></i>
                            </div>
                            <h3 class="fw-bold mb-2">Submit Disaster Report</h3>
                            <p class="text-muted">Provide as much detail as possible to help emergency responders</p>
                        </div>

                        <form asp-controller="Incident" asp-action="Report" method="post" enctype="multipart/form-data">
                            <div class="row g-3">
                                <!-- Location Information -->
                                <div class="col-12">
                                    <h5 class="fw-bold mb-3 pb-2 border-bottom">
                                        <i class="fas fa-map-marker-alt me-2 text-danger"></i>Location Information
                                    </h5>
                                </div>

                                <div class="col-md-6">
                                    <label for="address" class="form-label fw-semibold">Address/Location</label>
                                    <input type="text" class="form-control" id="address" name="address" 
                                           placeholder="Enter street address or landmark" required>
                                </div>

                                <div class="col-md-6">
                                    <label for="lgaId" class="form-label fw-semibold">Local Government Area</label>
                                    <select class="form-select" id="lgaId" name="lgaId" required>
                                        <option value="">-- Select LGA --</option>
                                        @if (ViewBag.LGAs != null)
                                        {
                                            @foreach (var lga in ViewBag.LGAs)
                                            {
                                                <option value="@lga.Value">@lga.Text</option>
                                            }
                                        }
                                    </select>
                                </div>

                                <div class="col-md-6">
                                    <label for="cityId" class="form-label fw-semibold">City</label>
                                    <select class="form-select" id="cityId" name="cityId" required>
                                        <option value="">-- Select City --</option>
                                        @if (ViewBag.Cities != null)
                                        {
                                            @foreach (var city in ViewBag.Cities)
                                            {
                                                <option value="@city.Value">@city.Text</option>
                                            }
                                        }
                                    </select>
                                </div>

                                <div class="col-md-6">
                                    <label for="coordinates" class="form-label fw-semibold">
                                        GPS Coordinates <small class="text-muted">(Optional)</small>
                                    </label>
                                    <input type="text" class="form-control" id="coordinates" name="coordinates" 
                                           placeholder="e.g., 6.5244, 3.3792">
                                </div>

                                <!-- Incident Details -->
                                <div class="col-12 mt-4">
                                    <h5 class="fw-bold mb-3 pb-2 border-bottom">
                                        <i class="fas fa-info-circle me-2 text-danger"></i>Incident Details
                                    </h5>
                                </div>

                                <div class="col-md-6">
                                    <label for="severity" class="form-label fw-semibold">Severity Level</label>
                                    <select class="form-select" id="severity" name="severity" required>
                                        <option value="">-- Select Severity --</option>
                                        <option value="Low">Low - Minor flooding, passable roads</option>
                                        <option value="Medium">Medium - Significant flooding, difficult passage</option>
                                        <option value="High">High - Major flooding, impassable roads</option>
                                        <option value="Critical">Critical - Life-threatening situation</option>
                                    </select>
                                </div>

                                <div class="col-md-6">
                                    <label for="waterDepth" class="form-label fw-semibold">
                                        Estimated Water Depth <small class="text-muted">(Optional)</small>
                                    </label>
                                    <select class="form-select" id="waterDepth" name="waterDepth">
                                        <option value="">-- Select Depth --</option>
                                        <option value="Ankle">Ankle deep (0-6 inches)</option>
                                        <option value="Knee">Knee deep (6-18 inches)</option>
                                        <option value="Waist">Waist deep (18-36 inches)</option>
                                        <option value="Above">Above waist (3+ feet)</option>
                                    </select>
                                </div>

                                <div class="col-12">
                                    <label for="description" class="form-label fw-semibold">Description</label>
                                    <textarea class="form-control" id="description" name="description" rows="4" 
                                              placeholder="Describe the flood situation, affected areas, number of people affected, etc." required></textarea>
                                </div>

                                <!-- Contact Information -->
                                <div class="col-12 mt-4">
                                    <h5 class="fw-bold mb-3 pb-2 border-bottom">
                                        <i class="fas fa-user me-2 text-danger"></i>Your Contact Information
                                    </h5>
                                </div>

                                <div class="col-md-6">
                                    <label for="reporterName" class="form-label fw-semibold">Full Name</label>
                                    <input type="text" class="form-control" id="reporterName" name="reporterName" 
                                           placeholder="Enter your name" required>
                                </div>

                                <div class="col-md-6">
                                    <label for="reporterPhone" class="form-label fw-semibold">Phone Number</label>
                                    <input type="tel" class="form-control" id="reporterPhone" name="reporterPhone" 
                                           placeholder="Enter your phone number" required>
                                </div>

                                <div class="col-12">
                                    <label for="reporterEmail" class="form-label fw-semibold">
                                        Email Address <small class="text-muted">(Optional)</small>
                                    </label>
                                    <input type="email" class="form-control" id="reporterEmail" name="reporterEmail" 
                                           placeholder="Enter your email">
                                </div>

                                <!-- Photos -->
                                <div class="col-12 mt-4">
                                    <h5 class="fw-bold mb-3 pb-2 border-bottom">
                                        <i class="fas fa-camera me-2 text-danger"></i>Photos <small class="text-muted">(Optional but helpful)</small>
                                    </h5>
                                </div>

                                <div class="col-12">
                                    <label for="photos" class="form-label fw-semibold">Upload Photos</label>
                                    <input type="file" class="form-control" id="photos" name="photos" accept="image/*" multiple>
                                    <small class="form-text text-muted">
                                        You can upload multiple photos. Accepted formats: JPG, PNG, GIF (Max 5MB each)
                                    </small>
                                </div>

                                <!-- Submit Button -->
                                <div class="col-12 mt-4">
                                    <button type="submit" class="btn btn-danger btn-lg w-100">
                                        <i class="fas fa-paper-plane me-2"></i>Submit Report
                                    </button>
                                </div>

                                <!-- Privacy Notice -->
                                <div class="col-12 mt-3">
                                    <p class="small text-muted text-center mb-0">
                                        <i class="fas fa-lock me-1"></i>
                                        Your information will be used solely for emergency response purposes and kept confidential.
                                    </p>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Guidelines -->
            <div class="col-lg-8 mx-auto mt-4">
                <div class="card modern-card">
                    <div class="card-body p-4">
                        <h5 class="fw-bold mb-3">
                            <i class="fas fa-lightbulb me-2 text-warning"></i>Reporting Guidelines
                        </h5>
                        <ul class="mb-0">
                            <li class="mb-2">Provide accurate location information to help responders find the affected area</li>
                            <li class="mb-2">Include details about the number of people affected and any immediate dangers</li>
                            <li class="mb-2">If possible, take photos from a safe location</li>
                            <li class="mb-2">Update your report if the situation changes significantly</li>
                            <li>For life-threatening emergencies, call 0806 090 7333 immediately</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
